# Global Interpreter Lock (GIL)
***GIL*** - это блокировка, позволяющая только одному потоку управлять интерпретатором Python. То есть в любой момент времени может выполняться только один конкретный поток.

## Какую проблеу решает GIL
Python считает кол-во ссылок на объекты для корректного управления памятью. Как только эта переменная становится нулю, память, выделенная под этот объект освобождается.

Пример:
```python
>>> import sys
>>> a = []
>>> b = a
>>> sys.getrefcount(a)
3
```
3 ссылки на пустой массив: переменная a, переменная b и параметр функции `sys.getrefcount()`.

В многопоточном приложении сразу несколько потоков могут менять значение этого счетчика, что может привести к тому, что память очистится неправильно и удалится тот объект, на который еще существует ссылка.

Счетчик ссылок можно защитить, добавив блокираторы на все структуры данных, которые распространяются по нескольким потокам. В таком случае счетчик будет изменяться исключительно последовательно.

Но добавление блокировки к нескольким объектам может привести к ***взаимоблокировке*** (`deadlocks`), которая получается только если блокировка есть более чем на одном объекте. Также из-за взаимоблокировок снижается производительность из-за многократной установки блокираторов.

GIL - одиночный блокиратор самого интерпретатора Python. Он добавляет правило: любое выполнение байткода Python требует блокировки интерпретатора. В таком случае может исключить взаимоблокировку.